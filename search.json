[{"path":"https://lucymcgowan.github.io/rw/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 rw authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://lucymcgowan.github.io/rw/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Lucy D'Agostino McGowan. Author, maintainer. Suyang Yu. Author.","code":""},{"path":"https://lucymcgowan.github.io/rw/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"D'Agostino McGowan L, Yu S (2025). rw: Robins-Wang Variance Estimation Multiply Imputed Data Created mice. R package version 0.0.0.9000, https://lucymcgowan.github.io/rw/.","code":"@Manual{,   title = {rw: Robins-Wang Variance Estimation for Multiply Imputed Data Created with mice},   author = {Lucy {D'Agostino McGowan} and Suyang Yu},   year = {2025},   note = {R package version 0.0.0.9000},   url = {https://lucymcgowan.github.io/rw/}, }"},{"path":"https://lucymcgowan.github.io/rw/index.html","id":"rw","dir":"","previous_headings":"","what":"Robins-Wang Variance Estimation for Multiply Imputed Data Created with mice","title":"Robins-Wang Variance Estimation for Multiply Imputed Data Created with mice","text":"purpose rw package compute Robins-Wang variance estimates multiply imputed data analyses.","code":""},{"path":"https://lucymcgowan.github.io/rw/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Robins-Wang Variance Estimation for Multiply Imputed Data Created with mice","text":"package requires development version mice tasks argument: can install development version rw like :","code":"remotes::install_github(\"amices/mice\") remotes::install_github(\"LucyMcGowan/rw\")"},{"path":"https://lucymcgowan.github.io/rw/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Robins-Wang Variance Estimation for Multiply Imputed Data Created with mice","text":"first step impute data using mice. Note currently method = \"norm\" method = \"logreg\" supported. using mice function, must set parameter task = \"train\" order pass necessary parts subsequent functions. example, see . use nhanes data mice package perform multiple imputation using norm method. Now, suppose want fit model predicting bmi age hyp. with_rw function allows , first argument imputation object mice function second model expression. Note currently outcome models must Gaussian Binomial. Finally, can pool results fit object calculate Robins-Wang variance using pool_rw function Let’s compare result using Rubin’s rules.","code":"library(rw) library(mice) set.seed(1) imp <- mice(nhanes, method = \"norm\", m = 5, tasks = \"train\", print = FALSE) fit <- with_rw(imp, lm(bmi ~ age + hyp)) pool_rw(fit) #>  #> ── Robins-Wang Pooled Results ────────────────────────────────────────────────── #> Number of imputations: 5 #> Sample size: 25 #>  #>                    term estimate std.error statistic p.value conf.low conf.high #> (Intercept) (Intercept)   28.420    62.471   0.45493  0.6492   -94.02    150.86 #> age                 age   -2.512     6.399  -0.39252  0.6947   -15.05     10.03 #> hyp                 hyp    1.878    53.437   0.03514  0.9720  -102.86    106.61 fit_rr <- with(imp, lm(bmi ~ age + hyp)) pool(fit_rr) |>   summary() #>          term  estimate std.error  statistic       df     p.value #> 1 (Intercept) 28.419634  4.660152  6.0984355 3.292597 0.006729336 #> 2         age -2.511792  1.995151 -1.2589480 3.883028 0.278417451 #> 3         hyp  1.877623  4.096953  0.4582975 2.895862 0.678933396"},{"path":"https://lucymcgowan.github.io/rw/index.html","id":"giganti--shepherd-example","dir":"","previous_headings":"","what":"Giganti & Shepherd Example","title":"Robins-Wang Variance Estimation for Multiply Imputed Data Created with mice","text":"example replicate Giganti & Shepherd (2020) results.","code":"set.seed(1) meth <- make.method(giganti_data) meth[] <- \"\" meth[c(\"A\", \"D\")] <- c(\"norm\", \"logreg\")  pred <- make.predictorMatrix(giganti_data) pred[,] <- 0 pred[\"A\", c(\"X1\", \"X2\", \"A.star\", \"D.star\")] <- 1 pred[\"D\", c(\"X1\", \"X2\", \"A.star\", \"D.star\", \"A\")] <- 1  imp <- mice(giganti_data, m = 10, method = meth, predictorMatrix = pred,             print = FALSE, tasks = \"train\")  fit_rw <- with_rw(imp, glm(D ~ A, subset = A > 2, family = binomial()))  pooled <- pool_rw(fit_rw) pooled #>  #> ── Robins-Wang Pooled Results ────────────────────────────────────────────────── #> Number of imputations: 10 #> Sample size: 4000 #>  #>                    term estimate std.error statistic   p.value conf.low #> (Intercept) (Intercept)  -3.4864   0.23876    -14.60 2.721e-48  -3.9543 #> A                     A   0.8764   0.08217     10.67 1.469e-26   0.7154 #>             conf.high #> (Intercept)    -3.018 #> A               1.038"},{"path":"https://lucymcgowan.github.io/rw/reference/giganti_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Giganti Data Dataset generated using code from Giganti & Shepherd (2020) — giganti_data","title":"Giganti Data Dataset generated using code from Giganti & Shepherd (2020) — giganti_data","text":"Giganti Data Dataset generated using code Giganti & Shepherd (2020)","code":""},{"path":"https://lucymcgowan.github.io/rw/reference/giganti_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Giganti Data Dataset generated using code from Giganti & Shepherd (2020) — giganti_data","text":"","code":"giganti_data"},{"path":"https://lucymcgowan.github.io/rw/reference/giganti_data.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Giganti Data Dataset generated using code from Giganti & Shepherd (2020) — giganti_data","text":"object class data.frame 4000 rows 8 columns.","code":""},{"path":"https://lucymcgowan.github.io/rw/reference/pool_rw.html","id":null,"dir":"Reference","previous_headings":"","what":"Pool results with Robins-Wang variance — pool_rw","title":"Pool results with Robins-Wang variance — pool_rw","text":"Pool results Robins-Wang variance","code":""},{"path":"https://lucymcgowan.github.io/rw/reference/pool_rw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pool results with Robins-Wang variance — pool_rw","text":"","code":"pool_rw(object, ...)"},{"path":"https://lucymcgowan.github.io/rw/reference/pool_rw.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pool results with Robins-Wang variance — pool_rw","text":"object with_rw object with_rw() ... Additional arguments (currently unused)","code":""},{"path":"https://lucymcgowan.github.io/rw/reference/pool_rw.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pool results with Robins-Wang variance — pool_rw","text":"pool_rw object pooled estimates Robins-Wang SEs","code":""},{"path":"https://lucymcgowan.github.io/rw/reference/pool_rw.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pool results with Robins-Wang variance — pool_rw","text":"","code":"if (FALSE) { # \\dontrun{ library(mice) imp <- mice(nhanes, method = \"norm\", m = 5, tasks = \"train\", print = FALSE) fit <- with_rw(imp, lm(bmi ~ age + hyp)) pooled <- pool_rw(fit) summary(pooled) } # }"},{"path":"https://lucymcgowan.github.io/rw/reference/with_rw.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit analysis model with Robins-Wang variance calculation — with_rw","title":"Fit analysis model with Robins-Wang variance calculation — with_rw","text":"Fit analysis model Robins-Wang variance calculation","code":""},{"path":"https://lucymcgowan.github.io/rw/reference/with_rw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit analysis model with Robins-Wang variance calculation — with_rw","text":"","code":"with_rw(data, expr, ...)"},{"path":"https://lucymcgowan.github.io/rw/reference/with_rw.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit analysis model with Robins-Wang variance calculation — with_rw","text":"data mids object mice parametric imputation methods expr Expression evaluate imputed dataset (typically model formula) ... Additional arguments passed analysis function","code":""},{"path":"https://lucymcgowan.github.io/rw/reference/with_rw.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit analysis model with Robins-Wang variance calculation — with_rw","text":"with_rw object containing fitted models RW components","code":""},{"path":"https://lucymcgowan.github.io/rw/reference/with_rw.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fit analysis model with Robins-Wang variance calculation — with_rw","text":"IMPORTANT: function requires parametric imputation methods produce score functions information matrices. Supported methods include: norm (continuous variables) logreg (binary variables)","code":""},{"path":"https://lucymcgowan.github.io/rw/reference/with_rw.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fit analysis model with Robins-Wang variance calculation — with_rw","text":"","code":"if (FALSE) { # \\dontrun{ library(mice) imp <- mice(nhanes, method = \"norm\", m = 5, tasks = \"train\", print = FALSE) fit <- with_rw(imp, lm(bmi ~ age + hyp)) pool_rw(fit) } # }"}]
